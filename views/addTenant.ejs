<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Tenant Management Dashboard</title>
      <link rel="stylesheet" href="CSS/header.css">
      <link rel="stylesheet" href="CSS/addTenant.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>

<body>
      <%- include('partials/header') %>

            <main class="containers main-content">
                  <h1 class="title">Add New Tenant</h1>
                  <form class="tenant-form" action="/add_new" method="POST">

                        <div class="form-group">
                              <label for="name"><i class="fa-solid fa-user"></i> Name</label>
                              <input type="text" id="name" name="name" placeholder="Enter tenant's full name" required>
                        </div>

                        <div class="form-group">
                              <label for="mobile"><i class="fa-solid fa-phone"></i> Mobile Number</label>
                              <input type="text" id="mobile" name="mobile" placeholder="Enter 10-digit mobile number"
                                    required>
                        </div>

                        <div class="form-group">
                              <label for="room"><i class="fa-solid fa-door-closed"></i> Room Number</label>
                              <input type="text" id="room" name="room" placeholder="Enter room number" required>
                        </div>

                        <div class="form-group">
                              <label for="RoomRent"><i class="fa-solid fa-money-bill-wave"></i> Room Rent</label>
                              <input type="text" id="RoomRent" name="RoomRent" placeholder="Enter monthly rent amount"
                                    required>
                        </div>

                        <div class="form-group">
                              <label for="previousAddress"><i class="fa-solid fa-map-marker-alt"></i> Previous
                                    Address</label>
                              <input type="text" id="previousAddress" name="previousAddress"
                                    placeholder="Enter previous address">
                        </div>

                        <input type="hidden" name="userEmail" value="<%= userEmail %>">

                        <button class="submit-btn" type="submit"><i class="fa-solid fa-plus"></i> Add Tenant</button>
                  </form>
            </main>

            <script>
                  document.querySelector(".tenant-form").addEventListener("submit", function (event) {
                        let name = document.getElementById("name").value.trim();
                        let mobile = document.getElementById("mobile").value.trim();
                        let room = document.getElementById("room").value.trim();
                        let rent = document.getElementById("RoomRent").value.trim();

                        if (name === "" || mobile === "" || room === "" || rent === "") {
                              alert("Please fill out all required fields!");
                              event.preventDefault();
                              return false;
                        }

                        if (!/^\d{10}$/.test(mobile)) {
                              alert("Please enter a valid 10-digit mobile number.");
                              event.preventDefault();
                              return false;
                        }

                        if (isNaN(rent) || rent <= 0) {
                              alert("Please enter a valid room rent amount.");
                              event.preventDefault();
                              return false;
                        }

                        return true;
                  });
            </script>

</body>

</html>